<?xml version='1.0' encoding='UTF-8'?>
<devops2:Pipeline xmlns:xmi="http://www.omg.org/XMI" xmlns:devops2="http://www.example.org/devops2" Name="" xmi:version="2.0">
  <job Name="opam">
    <command Name="">
      <tool Name="language"/>
      <parameter Parameter="minimal"/>
    </command>
    <command Name="" depends="//@job.0/@command.0">
      <tool Name="sudo"/>
      <parameter Parameter="required"/>
    </command>
    <command Name="" depends="//@job.0/@command.1">
      <tool Name="services"/>
      <parameter Parameter="docker"/>
    </command>
    <command Name="" depends="//@job.0/@command.2">
      <tool Name="install"/>
      <parameter Parameter="# Prepare the COQ container&#10;docker pull ${COQ_IMAGE}&#10;docker run -d -i --init --name=COQ -v ${TRAVIS_BUILD_DIR}:/home/coq/${CONTRIB_NAME} -w /home/coq/${CONTRIB_NAME} ${COQ_IMAGE}&#10;docker exec COQ /bin/bash --login -c &quot;&#10;  # This bash script is double-quoted to interpolate Travis CI env vars:&#10;  echo \&quot;Build triggered by ${TRAVIS_EVENT_TYPE}\&quot;&#10;  export PS4='+ \e[33;1m(\$0 @ line \$LINENO) \$\e[0m '&#10;  set -ex  # -e = exit on failure; -x = trace for debug&#10;  sudo apt-get update -y -q&#10;  DEBIAN_FRONTEND=noninteractive sudo apt-get install -y -q --no-install-recommends zlib1g-dev libgmp-dev&#10;  opam switch ${SWITCH} ; eval $(opam env)&#10;  opam update -y&#10;  opam pin add ${CONTRIB_NAME} . -y -n -k path&#10;  opam install ${CONTRIB_NAME} -y -j ${NJOBS} --deps-only&#10;  opam config list&#10;  opam repo list&#10;  opam list&#10;  &quot;&#10;"/>
    </command>
    <command Name="" depends="//@job.0/@command.3">
      <tool Name="script"/>
      <parameter Parameter="- echo -e &quot;${ANSI_YELLOW}Building ${CONTRIB_NAME}...${ANSI_RESET}&quot; &amp;&amp; echo -en 'travis_fold:start:script\\r'&#10;- &quot;docker exec COQ /bin/bash --login -c \&quot;\n  export PS4='+ \\e[33;1m(\\$0 @ line\&#10;    \ \\$LINENO) \\$\\e[0m '\n  set -ex\n  sudo chown -R coq:coq /home/coq/${CONTRIB_NAME}\n\&#10;    \  opam install ${CONTRIB_NAME} -v -y -j ${NJOBS}\n  \&quot;\n&quot;&#10;- docker stop COQ&#10;- echo -en 'travis_fold:end:script\\r'&#10;"/>
    </command>
  </job>
  <tool Name="matrix:&#10;    include:&#10;    -   language: minimal&#10;        sudo: required&#10;        services: docker&#10;        install: &quot;# Prepare the COQ container\ndocker pull ${COQ_IMAGE}\ndocker run\&#10;            \ -d -i --init --name=COQ -v ${TRAVIS_BUILD_DIR}:/home/coq/${CONTRIB_NAME}\&#10;            \ -w /home/coq/${CONTRIB_NAME} ${COQ_IMAGE}\ndocker exec COQ /bin/bash\&#10;            \ --login -c \&quot;\n  # This bash script is double-quoted to interpolate\&#10;            \ Travis CI env vars:\n  echo \\\&quot;Build triggered by ${TRAVIS_EVENT_TYPE}\\\&#10;            \&quot;\n  export PS4='+ \\e[33;1m(\\$0 @ line \\$LINENO) \\$\\e[0m '\n  set\&#10;            \ -ex  # -e = exit on failure; -x = trace for debug\n  sudo apt-get update\&#10;            \ -y -q\n  DEBIAN_FRONTEND=noninteractive sudo apt-get install -y -q --no-install-recommends\&#10;            \ zlib1g-dev libgmp-dev\n  opam switch ${SWITCH} ; eval $(opam env)\n\&#10;            \  opam update -y\n  opam pin add ${CONTRIB_NAME} . -y -n -k path\n  opam\&#10;            \ install ${CONTRIB_NAME} -y -j ${NJOBS} --deps-only\n  opam config list\n\&#10;            \  opam repo list\n  opam list\n  \&quot;\n&quot;&#10;        script: &amp;id001&#10;        - echo -e &quot;${ANSI_YELLOW}Building ${CONTRIB_NAME}...${ANSI_RESET}&quot; &amp;&amp; echo&#10;            -en 'travis_fold:start:script\\r'&#10;        - &quot;docker exec COQ /bin/bash --login -c \&quot;\n  export PS4='+ \\e[33;1m(\\$0\&#10;            \ @ line \\$LINENO) \\$\\e[0m '\n  set -ex\n  sudo chown -R coq:coq /home/coq/${CONTRIB_NAME}\n\&#10;            \  opam install ${CONTRIB_NAME} -v -y -j ${NJOBS}\n  \&quot;\n&quot;&#10;        - docker stop COQ&#10;        - echo -en 'travis_fold:end:script\\r'&#10;        env:&#10;        - COQ_IMAGE=coqorg/coq:8.9&#10;        - CONTRIB_NAME=coq-toychain-node&#10;        - NJOBS=2&#10;        - SWITCH=4.07.1+flambda&#10;    -   language: minimal&#10;        sudo: required&#10;        services: docker&#10;        install: &quot;# Prepare the COQ container\ndocker pull ${COQ_IMAGE}\ndocker run\&#10;            \ -d -i --init --name=COQ -v ${TRAVIS_BUILD_DIR}:/home/coq/${CONTRIB_NAME}\&#10;            \ -w /home/coq/${CONTRIB_NAME} ${COQ_IMAGE}\ndocker exec COQ /bin/bash\&#10;            \ --login -c \&quot;\n  # This bash script is double-quoted to interpolate\&#10;            \ Travis CI env vars:\n  echo \\\&quot;Build triggered by ${TRAVIS_EVENT_TYPE}\\\&#10;            \&quot;\n  export PS4='+ \\e[33;1m(\\$0 @ line \\$LINENO) \\$\\e[0m '\n  set\&#10;            \ -ex  # -e = exit on failure; -x = trace for debug\n  sudo apt-get update\&#10;            \ -y -q\n  DEBIAN_FRONTEND=noninteractive sudo apt-get install -y -q --no-install-recommends\&#10;            \ zlib1g-dev libgmp-dev\n  opam switch ${SWITCH} ; eval $(opam env)\n\&#10;            \  opam update -y\n  opam pin add ${CONTRIB_NAME} . -y -n -k path\n  opam\&#10;            \ install ${CONTRIB_NAME} -y -j ${NJOBS} --deps-only\n  opam config list\n\&#10;            \  opam repo list\n  opam list\n  \&quot;\n&quot;&#10;        script: *id001&#10;        env:&#10;        - COQ_IMAGE=mathcomp/mathcomp:1.10.0-coq-8.10&#10;        - CONTRIB_NAME=coq-toychain-node&#10;        - NJOBS=2&#10;        - SWITCH=4.07.1+flambda&#10;    -   language: minimal&#10;        sudo: required&#10;        services: docker&#10;        install: &quot;# Prepare the COQ container\ndocker pull ${COQ_IMAGE}\ndocker run\&#10;            \ -d -i --init --name=COQ -v ${TRAVIS_BUILD_DIR}:/home/coq/${CONTRIB_NAME}\&#10;            \ -w /home/coq/${CONTRIB_NAME} ${COQ_IMAGE}\ndocker exec COQ /bin/bash\&#10;            \ --login -c \&quot;\n  # This bash script is double-quoted to interpolate\&#10;            \ Travis CI env vars:\n  echo \\\&quot;Build triggered by ${TRAVIS_EVENT_TYPE}\\\&#10;            \&quot;\n  export PS4='+ \\e[33;1m(\\$0 @ line \\$LINENO) \\$\\e[0m '\n  set\&#10;            \ -ex  # -e = exit on failure; -x = trace for debug\n  sudo apt-get update\&#10;            \ -y -q\n  DEBIAN_FRONTEND=noninteractive sudo apt-get install -y -q --no-install-recommends\&#10;            \ zlib1g-dev libgmp-dev\n  opam switch ${SWITCH} ; eval $(opam env)\n\&#10;            \  opam update -y\n  opam pin add ${CONTRIB_NAME} . -y -n -k path\n  opam\&#10;            \ install ${CONTRIB_NAME} -y -j ${NJOBS} --deps-only\n  opam config list\n\&#10;            \  opam repo list\n  opam list\n  \&quot;\n&quot;&#10;        script: *id001&#10;        env:&#10;        - COQ_IMAGE=mathcomp/mathcomp:1.10.0-coq-8.11&#10;        - CONTRIB_NAME=coq-toychain&#10;        - NJOBS=2&#10;        - SWITCH=4.07.1+flambda&#10;    -   language: minimal&#10;        sudo: required&#10;        services: docker&#10;        install: &quot;# Prepare the COQ container\ndocker pull ${COQ_IMAGE}\ndocker run\&#10;            \ -d -i --init --name=COQ -v ${TRAVIS_BUILD_DIR}:/home/coq/${CONTRIB_NAME}\&#10;            \ -w /home/coq/${CONTRIB_NAME} ${COQ_IMAGE}\ndocker exec COQ /bin/bash\&#10;            \ --login -c \&quot;\n  # This bash script is double-quoted to interpolate\&#10;            \ Travis CI env vars:\n  echo \\\&quot;Build triggered by ${TRAVIS_EVENT_TYPE}\\\&#10;            \&quot;\n  export PS4='+ \\e[33;1m(\\$0 @ line \\$LINENO) \\$\\e[0m '\n  set\&#10;            \ -ex  # -e = exit on failure; -x = trace for debug\n  sudo apt-get update\&#10;            \ -y -q\n  DEBIAN_FRONTEND=noninteractive sudo apt-get install -y -q --no-install-recommends\&#10;            \ zlib1g-dev libgmp-dev\n  opam switch ${SWITCH} ; eval $(opam env)\n\&#10;            \  opam update -y\n  opam pin add ${CONTRIB_NAME} . -y -n -k path\n  opam\&#10;            \ install ${CONTRIB_NAME} -y -j ${NJOBS} --deps-only\n  opam config list\n\&#10;            \  opam repo list\n  opam list\n  \&quot;\n&quot;&#10;        script: *id001&#10;        env:&#10;        - COQ_IMAGE=coqorg/coq:dev&#10;        - CONTRIB_NAME=coq-toychain&#10;        - NJOBS=2&#10;        - SWITCH=4.07.1+flambda&#10;"/>
</devops2:Pipeline>
